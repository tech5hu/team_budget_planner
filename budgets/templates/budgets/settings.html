{% extends 'budgets/base.html' %}
{% load static %}

{% block content %}
    <h2>Account Settings</h2>

    <!-- Change Password Form -->
    <section class="settings-section">
        <h3>Change Password</h3>
        <form method="post" action="{% url 'budgets:settings' %}">
            {% csrf_token %}
            {{ password_form.as_p }}  <!-- Render the password change form -->
            <button type="submit" class="btn btn-primary">Change Password</button>  <!-- Submit button for password change -->
        </form>
    </section>

    <!-- Notification Settings -->
    <section class="settings-section">
        <h3>Notification Settings</h3>
        <form method="post" action="{% url 'budgets:settings' %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="email_notifications">Email Notifications</label>
                <input type="checkbox" id="email_notifications" name="email_notifications" {% if user.userprofile.email_notifications %}checked{% endif %}>
                <small>Receive notifications via email.</small>
            </div>
            <div class="form-group">
                <label for="sms_notifications">SMS Notifications</label>
                <input type="checkbox" id="sms_notifications" name="sms_notifications" {% if user.userprofile.sms_notifications %}checked{% endif %}>
                <small>Receive notifications via SMS.</small>
            </div>
            <button type="submit" class="btn btn-primary">Save Settings</button>  <!-- Submit button for saving settings -->
        </form>
    </section>

{% endblock %}
