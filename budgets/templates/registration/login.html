{% extends 'budgets/base.html' %}  <!-- Extend the base HTML template for consistent styling -->

{% block content %}  <!-- Define the content block for this page -->
    <h2>Login</h2>  <!-- Heading for the login page -->
    <main>  <!-- Main content area -->
        <form method="post">  <!-- Form for user login, using POST method -->
            {% csrf_token %}  <!-- Include CSRF token for security -->
            <div class="form-group">  <!-- Form group for username input -->
                <label for="username">Username</label>  <!-- Label for the username field -->
                <input type="text" name="username" id="username" class="form-control" required>  <!-- Input field for username, required -->
            </div>
            <div class="form-group">  <!-- Form group for password input -->
                <label for="password">Password</label>  <!-- Label for the password field -->
                <input type="password" name="password" id="password" class="form-control" required>  <!-- Input field for password, required -->
            </div>
            {% if form.errors %}  <!-- Check if there are any form errors -->
                <div class="alert alert-danger mt-3">  <!-- Alert box for displaying errors -->
                    <ul>  <!-- List for error messages -->
                        {% for field in form %}  <!-- Loop through form fields -->
                            {% for error in field.errors %}  <!-- Loop through errors for each field -->
                                <li>{{ error }}</li>  <!-- Display each error message -->
                            {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}  <!-- Loop through non-field errors -->
                            <li>{{ error }}</li>  <!-- Display each non-field error message -->
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            <button type="submit" class="btn btn-primary mt-3">Login</button>  <!-- Submit button for the login form -->
        </form>
        <p class="mt-3">Don't have an account? <a href="{% url 'budgets:register' %}" class="click-here-link">Register here</a></p>  <!-- Link to registration page -->
        <p>Forgot Password? <a href="{% url 'budgets:password_reset' %}" class="click-here-link">Reset here</a></p>  <!-- Link to password reset page -->
    </main>
{% endblock %}
